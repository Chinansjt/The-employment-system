{"remainingRequest":"/Users/papaning/代码/git/The-employment-system/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/papaning/代码/git/The-employment-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/papaning/代码/git/The-employment-system/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/papaning/代码/git/The-employment-system/src/components/verifyCode/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/papaning/代码/git/The-employment-system/src/components/verifyCode/index.vue","mtime":1575027535168},{"path":"/Users/papaning/代码/git/The-employment-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":1575303044053},{"path":"/Users/papaning/代码/git/The-employment-system/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":1575303043866},{"path":"/Users/papaning/代码/git/The-employment-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":1575303044053},{"path":"/Users/papaning/代码/git/The-employment-system/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":1575303051928}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { notify, isPhone } from \"@/plugins/utils\";\nimport Api from \"@/plugins/api\";\nexport default {\n  props: [\"phone\", \"type\", \"myStyle\", \"isReset\"],\n  data: function data() {\n    return {\n      content: \"获取验证码\",\n      isSend: false,\n      timer: null,\n      loading: false\n    };\n  },\n  watch: {\n    // 监听isReset，为true时，初始化组件\n    \"isReset\": function isReset(newVal, oldVal) {\n      this.isSend = false;\n      this.content = \"获取验证码\";\n      clearTimeout(this.timer);\n      this.timer = null;\n    }\n  },\n  methods: {\n    getCode: function getCode() {\n      var _this = this;\n\n      if (this.isSend) {\n        return;\n      }\n\n      if (!isPhone(this.phone)) {\n        notify.error(\"请输入正确的手机号！\");\n        return;\n      }\n\n      this.loading = true;\n      Api.getVerifyCode({\n        phone: this.phone,\n        type: this.type\n      }).then(function (res) {\n        _this.loading = false;\n\n        if (res.status == \"1001\") {\n          _this.$emit(\"getCode\", res.extData.bizNo);\n\n          _this.timeChange();\n        } else {\n          notify.error(res.message);\n        }\n      });\n    },\n    timeChange: function timeChange() {\n      var self = this;\n      var format = \"ss重发\";\n      var count = 60;\n      down();\n\n      function down() {\n        self.content = format.replace(/s/, count);\n        count--;\n\n        if (count < 0) {\n          self.content = \"重新获取\";\n          self.isSend = false;\n          clearTimeout(self.timer);\n          self.timer = null;\n        } else {\n          self.isSend = true;\n          self.timer = setTimeout(down, 1000);\n        }\n      }\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;AAaA,SAAA,MAAA,EAAA,OAAA,QAAA,iBAAA;AACA,OAAA,GAAA,MAAA,eAAA;AAEA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,OAAA,EAAA,MAAA,EAAA,SAAA,EAAA,SAAA,CADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,OADA;AAEA,MAAA,MAAA,EAAA,KAFA;AAGA,MAAA,KAAA,EAAA,IAHA;AAIA,MAAA,OAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,KAAA,EAAA;AACA;AACA,eAAA,iBAAA,MAAA,EAAA,MAAA,EAAA;AACA,WAAA,MAAA,GAAA,KAAA;AACA,WAAA,OAAA,GAAA,OAAA;AACA,MAAA,YAAA,CAAA,KAAA,KAAA,CAAA;AACA,WAAA,KAAA,GAAA,IAAA;AACA;AAPA,GAVA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,UAAA,KAAA,MAAA,EAAA;AACA;AACA;;AACA,UAAA,CAAA,OAAA,CAAA,KAAA,KAAA,CAAA,EAAA;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,YAAA;AACA;AACA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,GAAA,CAAA,aAAA,CAAA;AAAA,QAAA,KAAA,EAAA,KAAA,KAAA;AACA,QAAA,IAAA,EAAA,KAAA;AADA,OAAA,EACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,YAAA,GAAA,CAAA,MAAA,IAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,SAAA,EAAA,GAAA,CAAA,OAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,UAAA;AACA,SAHA,MAGA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OATA;AAUA,KApBA;AAqBA,IAAA,UArBA,wBAqBA;AACA,UAAA,IAAA,GAAA,IAAA;AACA,UAAA,MAAA,GAAA,MAAA;AACA,UAAA,KAAA,GAAA,EAAA;AACA,MAAA,IAAA;;AACA,eAAA,IAAA,GAAA;AACA,QAAA,IAAA,CAAA,OAAA,GAAA,MAAA,CAAA,OAAA,CAAA,GAAA,EAAA,KAAA,CAAA;AACA,QAAA,KAAA;;AACA,YAAA,KAAA,GAAA,CAAA,EAAA;AACA,UAAA,IAAA,CAAA,OAAA,GAAA,MAAA;AACA,UAAA,IAAA,CAAA,MAAA,GAAA,KAAA;AACA,UAAA,YAAA,CAAA,IAAA,CAAA,KAAA,CAAA;AACA,UAAA,IAAA,CAAA,KAAA,GAAA,IAAA;AACA,SALA,MAKA;AACA,UAAA,IAAA,CAAA,MAAA,GAAA,IAAA;AACA,UAAA,IAAA,CAAA,KAAA,GAAA,UAAA,CAAA,IAAA,EAAA,IAAA,CAAA;AACA;AACA;AACA;AAvCA;AAnBA,CAAA","sourcesContent":["<template>\n\t<Button \n        @click=\"getCode\"\n        :style=\"myStyle\"\n        class=\"code-btn\" \n        :class=\"{'btn-disabled': isSend}\"\n        :loading=\"loading\"\n    >\n        {{content}}\n\t</Button>\n</template>\n\n<script>\nimport { notify, isPhone } from \"@/plugins/utils\";\nimport Api from \"@/plugins/api\";\n\nexport default {\n    props: [\"phone\", \"type\", \"myStyle\", \"isReset\"],\n    data() {\n        return {\n            content: \"获取验证码\",\n            isSend: false,\n            timer: null,\n            loading: false,\n        }\n    },\n    watch: {\n        // 监听isReset，为true时，初始化组件\n        \"isReset\": function(newVal, oldVal){\n            this.isSend = false\n            this.content = \"获取验证码\"\n            clearTimeout(this.timer)\n            this.timer = null\n        }\n    },\n    methods: {\n        getCode() {\n            if(this.isSend){\n                return\n            }\n            if (!isPhone(this.phone)) {\n                notify.error(\"请输入正确的手机号！\");\n                return;\n            }\n            this.loading = true\n            Api.getVerifyCode({ phone: this.phone, \n            type: this.type }).then(res => {\n                this.loading = false\n                if(res.status == \"1001\"){\n                    this.$emit(\"getCode\", res.extData.bizNo);\n                    this.timeChange();\n                }else{\n                    notify.error(res.message);\n                }\n            });\n        },\n        timeChange() {\n            let self = this;\n            let format = \"ss重发\";\n            let count = 60;\n            down();\n            function down(){\n                self.content = format.replace(/s/, count);\n                count--;\n                if (count < 0) {\n                    self.content = \"重新获取\";\n                    self.isSend = false;\n                    clearTimeout(self.timer);\n                    self.timer = null;\n                } else {\n                    self.isSend = true;\n                    self.timer = setTimeout(down, 1000);\n                }\n            }\n        }\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/mixin\";\n\n.code-btn {\n\twidth: 110px;\n    text-align: center;\n    background: $mainColor;\n\tcolor: #fff;\n    font-size: 14px;\n    cursor: pointer;\n    border-radius: 0;\n    border: none;\n    &:hover{\n        background-color: $hoverColor;\n    }\n}\n.btn-disabled {\n\tbackground: #dcdcdc;\n    color: #999;\n    &:hover{\n        background-color: #dcdcdc;\n    }\n}\n</style>"],"sourceRoot":"src/components/verifyCode"}]}