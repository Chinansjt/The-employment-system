{"remainingRequest":"/Users/papaning/代码/git/The-employment-system/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/papaning/代码/git/The-employment-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/papaning/代码/git/The-employment-system/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js??vue-loader-options!/Users/papaning/代码/git/The-employment-system/src/page/main/components/company/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/papaning/代码/git/The-employment-system/src/page/main/components/company/index.vue","mtime":1575303052657},{"path":"/Users/papaning/代码/git/The-employment-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":1575303044053},{"path":"/Users/papaning/代码/git/The-employment-system/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":1575303043866},{"path":"/Users/papaning/代码/git/The-employment-system/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":1575303044053},{"path":"/Users/papaning/代码/git/The-employment-system/node_modules/_vue-loader@15.7.2@vue-loader/lib/index.js","mtime":1575303051928}],"contextDependencies":[],"result":["import \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport \"vant/es/pull-refresh/style\";\nimport _PullRefresh from \"vant/es/pull-refresh\";\nimport \"vant/es/divider/style\";\nimport _Divider from \"vant/es/divider\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\nimport \"vant/es/notice-bar/style\";\nimport _NoticeBar from \"vant/es/notice-bar\";\nimport \"vant/es/lazyload/style\";\nimport _Lazyload from \"vant/es/lazyload\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from \"vue\";\nimport { getCompanyList as _getCompanyList } from \"@/plugins/api\";\nimport { notify } from \"@/plugins/utils\";\nVue.use(_Icon).use(_NavBar).use(_PullRefresh).use(_Divider).use(_List).use(_NoticeBar).use(_Lazyload);\nexport default {\n  data: function data() {\n    return {\n      loading: false,\n      finished: false,\n      companyList: [],\n      cPageNum: \"1\",\n      isLoading: false //下拉刷新\n\n    };\n  },\n  created: function created() {\n    //获取公司列表\n    this.getCompanyList();\n  },\n  methods: {\n    getCompanyList: function getCompanyList() {\n      var _this = this;\n\n      _getCompanyList({\n        company_id: \"1001\"\n      }).then(function (res) {\n        if (!res.extData.hasNext) {\n          _this.finished = true;\n        }\n\n        _this.loading = false;\n\n        if (res.status == \"1001\") {\n          _this.cPageNum++;\n          _this.companyList = _this.companyList.length == 0 ? res.extData.list : _this.companyList.concat(res.extData.list); //拼接请求到的列表数据\n        } else {\n          notify.error(res.message);\n        }\n      });\n    },\n    //刷新列表\n    onRefresh: function onRefresh() {\n      var _this2 = this;\n\n      _getCompanyList({\n        company_id: \"1001\"\n      }).then(function (res) {\n        _this2.isLoading = false;\n\n        if (!res.extData.hasNext) {\n          _this2.finished = true;\n        }\n\n        _this2.loading = false;\n\n        if (res.status == \"1001\") {\n          _this2.companyList = res.extData.list; //拼接请求到的列表数据\n        } else {\n          notify.error(res.message);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,GAAA,MAAA,KAAA;AACA,SAAA,cAAA,IAAA,eAAA,QAAA,eAAA;AACA,SAAA,MAAA,QAAA,iBAAA;AAWA,GAAA,CAAA,GAAA,QACA,GADA,UAEA,GAFA,eAGA,GAHA,WAIA,GAJA,QAKA,GALA,aAMA,GANA;AAOA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,GAJA;AAKA,MAAA,SAAA,EAAA,KALA,CAKA;;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAVA,qBAUA;AACA;AACA,SAAA,cAAA;AACA,GAbA;AAcA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,MAAA,eAAA,CAAA;AAAA,QAAA,UAAA,EAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,CAAA,GAAA,CAAA,OAAA,CAAA,OAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,YAAA,GAAA,CAAA,MAAA,IAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA;AACA,UAAA,KAAA,CAAA,WAAA,GACA,KAAA,CAAA,WAAA,CAAA,MAAA,IAAA,CAAA,GACA,GAAA,CAAA,OAAA,CAAA,IADA,GAEA,KAAA,CAAA,WAAA,CAAA,MAAA,CAAA,GAAA,CAAA,OAAA,CAAA,IAAA,CAHA,CAFA,CAKA;AACA,SANA,MAMA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OAdA;AAeA,KAjBA;AAkBA;AACA,IAAA,SAnBA,uBAmBA;AAAA;;AACA,MAAA,eAAA,CAAA;AAAA,QAAA,UAAA,EAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,KAAA;;AACA,YAAA,CAAA,GAAA,CAAA,OAAA,CAAA,OAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,GAAA,IAAA;AACA;;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;;AACA,YAAA,GAAA,CAAA,MAAA,IAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,WAAA,GAAA,GAAA,CAAA,OAAA,CAAA,IAAA,CADA,CACA;AACA,SAFA,MAEA;AACA,UAAA,MAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OAXA;AAYA;AAhCA;AAdA,CAAA","sourcesContent":["<template>\n  <div class=\"company\">\n    <van-nav-bar fixed left-text=\"公司\">\n      <van-icon name=\"search\" slot=\"right\" />\n    </van-nav-bar>\n    <van-pull-refresh\n      success-text=\"刷新成功\"\n      class=\"company_refresh\"\n      v-model=\"isLoading\"\n      @refresh=\"onRefresh\"\n    >\n      <van-list\n        v-model=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"没有更多了\"\n        :offset=\"500\"\n        @load=\"getCompanyList\"\n        class=\"company_list\"\n      >\n        <div v-for=\"item in companyList\">\n          <router-link :to=\"{ path: 'details', params: { company_id: item.company_id }}\"></router-link>\n          <div class=\"company_box\">\n            <div class=\"company_box_img\">\n              <img :src=\"item.img\" />\n            </div>\n            <div class=\"company_box_right\">\n              <strong>{{item.company}}</strong>\n              <span>{{item.address}}</span>\n              <div>{{item.vision}}</div>\n            </div>\n          </div>\n          <div class=\"company_line\"></div>\n        </div>\n      </van-list>\n    </van-pull-refresh>\n  </div>\n</template>\n<script>\nimport Vue from \"vue\";\nimport { getCompanyList } from \"@/plugins/api\";\nimport { notify } from \"@/plugins/utils\";\nimport {\n  NavBar,\n  Icon,\n  PullRefresh,\n  Divider,\n  List,\n  NoticeBar,\n  Lazyload\n} from \"vant\";\n\nVue.use(Icon)\n  .use(NavBar)\n  .use(PullRefresh)\n  .use(Divider)\n  .use(List)\n  .use(NoticeBar)\n  .use(Lazyload);\nexport default {\n  data() {\n    return {\n      loading: false,\n      finished: false,\n      companyList: [],\n      cPageNum: \"1\",\n      isLoading: false //下拉刷新\n    };\n  },\n  created() {\n    //获取公司列表\n    this.getCompanyList();\n  },\n  methods: {\n    getCompanyList() {\n      getCompanyList({ company_id: \"1001\" }).then(res => {\n        if (!res.extData.hasNext) {\n          this.finished = true;\n        }\n        this.loading = false;\n        if (res.status == \"1001\") {\n          this.cPageNum++;\n          this.companyList =\n            this.companyList.length == 0\n              ? res.extData.list\n              : this.companyList.concat(res.extData.list); //拼接请求到的列表数据\n        } else {\n          notify.error(res.message);\n        }\n      });\n    },\n    //刷新列表\n    onRefresh() {\n      getCompanyList({ company_id: \"1001\" }).then(res => {\n        this.isLoading = false;\n        if (!res.extData.hasNext) {\n          this.finished = true;\n        }\n        this.loading = false;\n        if (res.status == \"1001\") {\n          this.companyList = res.extData.list; //拼接请求到的列表数据\n        } else {\n          notify.error(res.message);\n        }\n      });\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n.company {\n  margin: 0 20rpx;\n  .company_refresh {\n    margin-top: 2.5rem;\n    .company_list {\n      padding-bottom: 150rpx;\n    }\n  }\n  .company_box {\n    height: 300rpx;\n    .company_box_img {\n      height: 300rpx;\n      float: left;\n      img {\n        width: 200rpx;\n        height: 200rpx;\n        margin: 0rpx 20rpx;\n        position: relative;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n    }\n    .company_box_right {\n        margin-top: 20rpx;\n      div {\n        height: 80rpx;\n        line-height: 80rpx;\n        font-size: 60rpx;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        font-family: \"Microsoft Yahei\"\n      }\n      span {\n        font-size: 40rpx;\n        color: #b4b5b7;\n        display: inline-block;\n        height: 80rpx;\n        line-height: 80rpx;\n      }\n      strong {\n        display: block;\n        font-size: 55rpx;\n      }\n    }\n  }\n  .company_line {\n    background-color: rgb(235, 236, 238);\n    height: 10rpx;\n    border-radius: 5rpx;\n  }\n}\n\n/deep/ .van-nav-bar {\n  height: 100rpx;\n  line-height: 100rpx;\n}\n/deep/ .van-nav-bar__arrow {\n  font-size: 50rpx;\n}\n/deep/ .van-nav-bar__text {\n  display: inline-block;\n  font-size: 50rpx;\n  color: #1989fa;\n  vertical-align: middle;\n}\n/deep/ .van-nav-bar__right {\n  font-size: 50rpx;\n}\n</style>"],"sourceRoot":"src/page/main/components/company"}]}